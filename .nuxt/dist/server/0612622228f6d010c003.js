exports.ids=[32],exports.modules={103:function(t,e,o){"use strict";o.r(e);var n=o(117),c=o.n(n),d=o(6),r=o(145),v={props:{bookStatus:{type:String,default:"booking"}},data:()=>({qrCode:null,codeErr:!1,phoneErr:!1,codeBtnText:"请输入验证码",countDown:61,startCount:!1,form:{country_num:"86",platforms:1,mobile:"",sms_captcha:"",inviter_id:""},invite_id_self:"",inviteLink:""}),mounted(){"success"===this.bookStatus?(this.invite_id_self=r.a(),this.inviteLink=location.origin+"?invite_code="+this.invite_id_self,this.$nextTick(()=>{this.crateQrcode()})):this.form.inviter_id=this.$route.query.invite_code},methods:{toCopyLink(){document.getElementById("inviteLink").select(),document.execCommand("copy")},crateQrcode(){0},closePop(){this.$emit("closePop")},selectPlatform(t){this.form.platforms="ios"===t?1:2},checkPhone(){console.log(this.form.mobile),/^[0-9]{6,16}$/.test(this.form.mobile)?this.phoneErr=!1:this.phoneErr=!0},checkCode(){/^[0-9]{6}$/.test(this.form.sms_captcha)?this.codeErr=!1:this.codeErr=!0},getCode(){if(this.checkPhone(),this.phoneErr)return;const param={country_num:"86",mobile:this.form.mobile};Object(d.d)(c.a.stringify(param)).then(t=>{0===t.code?(this.startCount=!0,this.toCountDown()):this.phoneErr=!0})},toCountDown(){this.countDown--,setTimeout(()=>{this.countDown>1?this.toCountDown():(this.startCount=!1,this.countDown=61)},1e3)},changeBookStatus(t){this.$emit("changeBookStatus",t)},changeAuth(){r.b(),this.$emit("changeBookStatus","booking")},submitForm(){this.checkPhone(),this.checkCode(),this.phoneErr||this.codeErr||Object(d.j)(c.a.stringify(this.form)).then(t=>{0===t.code?(this.changeBookStatus("success"),this.invite_id_self=t.data.invite_id,this.inviteLink=location.origin+"?invite_code="+this.invite_id_self,this.$nextTick(()=>{this.crateQrcode()}),r.c(this.invite_id_self)):this.codeErr=!0})}}},l=o(1);var component=Object(l.a)(v,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("div",{staticClass:"pop",on:{wheel:function(t){t.preventDefault()}}},[t._ssrNode("<div"+t._ssrClass("pop-box",{"paopao-animation":"success"==t.bookStatus})+' data-v-33f75175><i class="close-icon icon btn" data-v-33f75175></i> '+("booking"==t.bookStatus?'<div class="pop-content" data-v-33f75175><div class="form-box" data-v-33f75175><div class="platform-select" data-v-33f75175><div'+t._ssrClass("platform-item left btn",{selected:1==t.form.platforms})+' data-v-33f75175><i class="ios-icon icon" data-v-33f75175></i></div> <div'+t._ssrClass("platform-item right btn",{selected:2==t.form.platforms})+' data-v-33f75175><i class="android-icon icon" data-v-33f75175></i></div></div> <div data-v-33f75175><input type="text" placeholder="请填写手机号码即可参与活动"'+t._ssrAttr("value",t.form.mobile)+' class="phone-edit" data-v-33f75175> <div class="input-err"'+t._ssrStyle(null,null,{display:t.phoneErr?"":"none"})+' data-v-33f75175><i class="err-icon icon" data-v-33f75175></i>请输入正确的手机号码</div></div> <div class="code-edit" data-v-33f75175><div data-v-33f75175><input type="text" placeholder="请输入验证码"'+t._ssrAttr("value",t.form.sms_captcha)+' class="code-input" data-v-33f75175></div> '+(t.startCount?'<div class="code-btn btn" data-v-33f75175>'+t._ssrEscape(t._s(t.countDown)+"s")+"</div>":'<div class="code-btn btn" data-v-33f75175>请输入验证码</div>')+' <div class="input-err"'+t._ssrStyle(null,null,{display:t.codeErr?"":"none"})+' data-v-33f75175><i class="err-icon icon" data-v-33f75175></i>请输入正确的短信验证码</div></div> <div class="submit-btn btn" data-v-33f75175>立即预约</div></div></div>':'<div class="pop-content" data-v-33f75175><div class="ribbon-animation" data-v-33f75175></div> <div class="colorpaper-animation" data-v-33f75175></div> <div class="book-success-box" data-v-33f75175><div class="qr-box" data-v-33f75175><div class="qr-sticker" data-v-33f75175></div> <div id="qrcode" class="qr-pic" data-v-33f75175></div></div> <div class="invite-content" data-v-33f75175><div class="invite-text" data-v-33f75175><p class="title" data-v-33f75175>恭喜您预约成功!</p> <p class="invite-des" data-v-33f75175>截图保存二维码或复制邀请链接，发给小伙伴抱团一起来玩吧，抱团人数越多，奖励越大。</p></div> <div class="invite-link" data-v-33f75175><p class="title" data-v-33f75175>专属邀请链接：</p> <div class="link-box" data-v-33f75175><div class="input-box" data-v-33f75175><input id="inviteLink" type="text" readonly="readonly"'+t._ssrAttr("value",t.inviteLink)+' data-v-33f75175></div> <div class="copy-btn btn" data-v-33f75175>复制链接</div></div></div></div></div> <p class="change-account" data-v-33f75175><span class="btn" data-v-33f75175>切换绑定手机</span></p></div>')+"</div>")])}),[],!1,(function(t){var e=o(180);e.__inject__&&e.__inject__(t)}),"33f75175","c98929f0");e.default=component.exports},141:function(t,e){},145:function(t,e,o){"use strict";o.d(e,"a",(function(){return c})),o.d(e,"c",(function(){return d})),o.d(e,"b",(function(){return r}));const n="guid";function c(){return localStorage.getItem(n)}function d(t){return localStorage.setItem(n,t)}function r(){return localStorage.removeItem(n)}},180:function(t,e,o){"use strict";o.r(e);var n=o(141),c=o.n(n);for(var d in n)"default"!==d&&function(t){o.d(e,t,(function(){return n[t]}))}(d);e.default=c.a}};